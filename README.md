# Google VPN 局域网共享代理

这是一个基于 `gost` 的一键脚本，专为 Termux 环境设计，用于在局域网内开启 Socks5 和 HTTP 代理服务。

## 前置要求

- Android 设备
- 已安装 [Termux](https://termux.dev/en/)
- 能够访问网络（下载依赖和 gost核心）

## 功能特点

- **Socks5 端口**: `41111`
- **HTTP 端口**: `42222`
- **DNS 解析**: 使用 Google Public DNS over TLS (8.8.8.8, 8.8.4.4 等)
- **后台运行**: 使用 `screen` 进行后台保活

## 安装步骤

1. 打开 Termux。
2. 克隆本仓库或下载 `gv.sh` 脚本到本地。
   ```bash
   git clone https://github.com/hallfay0/google-vpn.git
   cd google-vpn
   ```
3. 运行脚本：
   ```bash
   bash gv.sh
   ```
4. 在菜单中输入 `1` 并回车，开始安装。
   - 脚本会自动安装 `screen`。
   - 自动下载适配的 `gost` 核心文件。
   - 配置并启动代理服务。

安装完成后，脚本会显示当前的 Socks5 和 HTTP 端口。

## 使用说明

脚本运行后会进入菜单界面：

```text
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Google_VPN局域网共享代理：Socks5+Http双代理一键脚本
快捷方式：bash gv.sh
退出脚本运行：exit
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 1. 重置安装
 2. 删除卸载
 0. 退出
------------------------------------------------
```

- **查看状态**: 再次运行 `bash gv.sh` 可以看到当前运行的端口信息。
- **局域网连接**: 在同一局域网下的其他设备（手机、电脑等）的网络设置中，手动配置代理：
  - **服务器/主机**: Android 设备的局域网 IP 地址 (可在 Termux 中输入 `ifconfig` 查看)
  - **端口**: `41111` (Socks5) 或 `42222` (HTTP)

## 卸载步骤

如果需要停止服务并清理文件：

1. 运行脚本：
   ```bash
   bash gv.sh
   ```
2. 在菜单中输入 `2` 并回车。
   - 脚本会停止后台的 `gost` 进程。
   - 删除相关配置文件和可执行文件。

## 注意事项

- 请确保 Termux 保持在后台运行，部分系统可能需要把 Termux 加入电池优化白名单以防服务被杀。
- 端口 `41111` 和 `42222` 固定在脚本中，如需修改请手动编辑 `gv.sh` 文件。
